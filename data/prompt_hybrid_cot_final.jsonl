{"informal_problem": "If $f(x) = 3x^2-5$, what is the value of $f(f(1))$?", "forward_context": "answer : ℝ\nf : ℝ → ℝ\nh_f_def : ∀ (x : ℝ), f x = 3 * x ^ 2 - 5\nh_answer : f (f 1) = answer\n⊢ ?w", "formal_solution": "-- Calculate $f(1)$\nhave h_f_1 : f 1 = 3 * 1 ^ 2 - 5 := by\n  apply h_f_def 1 -- Applying the definition of $f$ at $x = 1$\n\nhave h_f_1_simplified : f 1 = 3 * 1 - 5 := by\n  calc\n    f 1 = 3 * 1 ^ 2 - 5 := by rw [h_f_1] -- Evaluating $f(1)$\n    _ = 3 * 1 - 5 := by {\nnorm_num -- 0\n} -- Simplifying $1^2$ to $1$\n\nhave h_f_1_final : f 1 = -2 := by\n  calc\n    f 1 = 3 * 1 - 5 := by rw [h_f_1_simplified]\n    _ = -2 := by {\nnorm_num -- 0\n} -- Simplifying $3 * 1 - 5$ to $-2$\n\n-- Calculate $f(f(1)) = f(-2)$\nhave h_f_neg2 : f (-2) = 3 * (-2) ^ 2 - 5 := by\n  apply h_f_def (-2) -- Applying the definition of $f$ at $x = -2$\n\nhave h_f_neg2_simplified : f (-2) = 3 * 4 - 5 := by\n  calc\n    f (-2) = 3 * (-2) ^ 2 - 5 := by rw [h_f_neg2] -- Evaluating $f(-2)$\n    _ = 3 * 4 - 5 := by {\nnorm_num -- 0\n} -- Simplifying $(-2)^2$ to $4$\n\nhave h_f_neg2_final : f (-2) = 7 := by\n  calc\n    f (-2) = 3 * 4 - 5 := by rw [h_f_neg2_simplified]\n    _ = 7 := by {\nnorm_num -- 0\n} -- Simplifying $3 * 4 - 5$ to $7$\n\n-- Conclude that $f(f(1)) = 7$\nhave h_answer : answer = 7 := by\n  calc\n    answer = f (f 1) := by rw [h_answer] -- From the definition of the answer\n    _ = f (-2) := by rw [h_f_1_final] -- Since $f(1) = -2$\n    _ = 7 := by rw [h_f_neg2_final] -- Since $f(-2) = 7$\n\nexact h_answer -- submit"}
{"informal_problem": "Given that $$(x+y+z)(xy+xz+yz)=25$$and that $$x^2(y+z)+y^2(x+z)+z^2(x+y)=7$$for real numbers $x$, $y$, and $z$, what is the value of $xyz$?", "forward_context": "answer x y z : ℝ\nh₁ : (x + y + z) * (x * y + x * z + y * z) = 25\nh₂ : x ^ 2 * (y + z) + y ^ 2 * (x + z) + z ^ 2 * (x + y) = 7\nh_answer : x * y * z = answer\n⊢ ?w", "formal_solution": "-- Expanding the first given equation using the distributive property\nhave h_expand_first : (x + y + z) * (x * y + x * z + y * z) = x^2 * y + x^2 * z + x * y * z + x * y^2 + x * y * z + y^2 * z + x * y * z + x * z^2 + y * z^2 := by {\nlinarith [h₁, h₂, h_answer] -- 0\n}\n-- Simplifying the expanded form\nhave h_simplify_first : x^2 * y + x^2 * z + x * y * z + x * y^2 + x * y * z + y^2 * z + x * y * z + x * z^2 + y * z^2 = 3 * x * y * z + x^2 * y + x^2 * z + x * y^2 + y^2 * z + x * z^2 + y * z^2 := by {\nring -- 0\n}\n-- Combining with the first given equation\nhave h_combine_first : 3 * x * y * z + x^2 * y + x^2 * z + x * y^2 + y^2 * z + x * z^2 + y * z^2 = 25 := by {\nlinarith [h₁, h₂, h_answer] -- 0\n}\n\n-- Expanding the second given equation using the distributive property\nhave h_expand_second : x^2 * (y + z) + y^2 * (x + z) + z^2 * (x + y) = x^2 * y + x^2 * z + x * y^2 + y^2 * z + x * z^2 + y * z^2 := by {\nlinarith -- 0\n}\n-- Combining with the second given equation\nhave h_combine_second : x^2 * y + x^2 * z + x * y^2 + y^2 * z + x * z^2 + y * z^2 = 7 := by {\nlinarith [h₁, h₂, h_answer, h_expand_first, h_simplify_first, h_combine_first, h_expand_second] -- 0\n}\n\n-- Substituting the second equation into the first\nhave h_substitute : 3 * x * y * z + 7 = 25 := by {\nlinarith [h_answer, h_combine_first, h_combine_second] -- 0\n}\n-- Solving for x * y * z\nhave h_solve : 3 * x * y * z = 18 := by {\nlinarith -- 0\n}\nhave h_final : x * y * z = 6 := by {\nlinarith -- 0\n}\n\n-- The answer is 6\nhave h_answer : answer = 6 := by {\nlinarith [h_answer, h_final] -- 0\n}\n\nexact h_answer -- submit"}
{"informal_problem": "Let $ a$, $ b$, $ c$ be nonzero real numbers such that $ a+b+c=0$ and $ a^3+b^3+c^3=a^5+b^5+c^5$. Find the value of\n$ a^2+b^2+c^2$.", "forward_context": "answer a b c : ℝ\nh_nonzero : a ≠ 0 ∧ b ≠ 0 ∧ c ≠ 0\nh_sum_zero : a + b + c = 0\nh_power_eq : a ^ 3 + b ^ 3 + c ^ 3 = a ^ 5 + b ^ 5 + c ^ 5\nh_answer : a ^ 2 + b ^ 2 + c ^ 2 = answer\n⊢ ?w", "formal_solution": "-- From the factorization $a^3 + b^3 + c^3 - 3abc = (a + b + c)(a^2 + b^2 + c^2 - ab - ac - bc),$ we know that $a^3 + b^3 + c^3 = 3abc.$\nhave h₁ : a^3 + b^3 + c^3 = 3 * a * b * c := by {\n    have h1 : a = -(b + c) := by linarith -- 0\n    simp [h1, h_nonzero.1, h_nonzero.2.1, h_nonzero.2.2] at h_sum_zero h_power_eq ⊢ -- 0\n    linarith -- 0\n}\n\n-- Since $a + b + c = 0,$ $c = -a - b,$\nhave h₂ : c = -a - b := by {\n    nlinarith [h_sum_zero, h₁] -- 0\n}\n\n-- so\n-- \\begin{align*}\n-- a^5 + b^5 + c^5 &= a^5 + b^5 - (a + b)^5 \\\\\n-- &= -5a^4 b - 10a^3 b^2 - 10a^2 b^3 - 5ab^4 \\\\\n-- &= -5ab(a^3 + 2a^2 b + 2ab^2 + b^3) \\\\\n-- &= -5ab[(a^3 + b^3) + (2a^2 b + 2ab^2)] \\\\\n-- &= -5ab[(a + b)(a^2 - ab + b^2) + 2ab(a + b)] \\\\\n-- &= -5ab(a + b)(a^2 + ab + b^2) \\\\\n-- &= 5abc(a^2 + ab + b^2),\n-- \\end{align*}\nhave h₃ : a^5 + b^5 + c^5 = 5 * a * b * c * (a^2 + a * b + b^2) := by {\n    simp [h₂, mul_add, add_mul, mul_comm, mul_left_comm] at h₁ ⊢ -- 0\n    linarith -- 0\n}\n\n-- so $3abc = 5abc(a^2 + ab + b^2).$\nhave h₄ : 3 * a * b * c = 5 * a * b * c * (a^2 + a * b + b^2) := by {\n    linarith [h_nonzero.1, h_nonzero.2.1, h_nonzero.2.2, h_sum_zero, h_power_eq, h₁, h₂, h₃] -- 0\n}\n\n-- Since $a,$ $b,$ $c$ are all nonzero, we can write $a^2 + ab + b^2 = \\frac{3}{5}.$\nhave h₅ : a^2 + a * b + b^2 = 3 / 5 := by {\n    simp [h₂, mul_add, mul_comm, mul_left_comm] at h₄ -- 0\n    aesop -- 0\n}\n\n-- Hence,\n-- \\begin{align*}\n-- a^2 + b^2 + c^2 &= a^2 + b^2 + (a + b)^2 \\\\\n-- &= a^2 + b^2 + a^2 + 2ab + b^2 \\\\\n-- &= 2a^2 + 2ab + 2b^2 \\\\\n-- &= 2(a^2 + ab + b^2) = \\boxed{\\frac{6}{5}}.\n-- \\end{align*}\nhave h₆ : a^2 + b^2 + c^2 = 2 * (a^2 + a * b + b^2) := by {\n    calc\n  a ^ 2 + b ^ 2 + c ^ 2 = a ^ 2 + b ^ 2 + (-a - b) ^ 2 := by rw [h₂]\n  _ = 2 * (a ^ 2 + a * b + b ^ 2) := by ring -- 0\n}\nhave h₇ : a^2 + b^2 + c^2 = 2 * (3 / 5) := by {\n    rw [h₆, h₅] -- 0\n}\nhave h₈ : a^2 + b^2 + c^2 = 6 / 5 := by {\n    linarith -- 0\n}\n\nhave h_answer : answer = 6 / 5 := by {\n    linarith -- 0\n}\nexact h_answer -- submit"}
{"informal_problem": "Let $f(x)$ and $g(x)$ be two monic cubic polynomials, and let $r$ be a real number.  Two of the roots of $f(x)$ are $r + 1$ and $r + 7.$  Two of the roots of $g(x)$ are $r + 3$ and $r + 9,$ and\n\\[f(x) - g(x) = r\\]for all real numbers $x.$  Find $r.$", "forward_context": "a b answer r : ℝ\nf g : ℝ → ℝ\nh_monic_f : ∀ (x : ℝ), f x = (x - (r + 1)) * (x - (r + 7)) * (x - a)\nh_monic_g : ∀ (x : ℝ), g x = (x - (r + 3)) * (x - (r + 9)) * (x - b)\nh_diff : ∀ (x : ℝ), f x - g x = r\nh_answer : r = answer\n⊢ ?w", "formal_solution": "-- By Factor Theorem, $f(x) = (x - r - 1)(x - r - 7)(x - a)$ and $g(x) = (x - r - 3)(x - r - 9)(x - b)$ for some real numbers $a$ and $b.$\nhave h_monic_f : ∀ x, f x = (x - (r + 1)) * (x - (r + 7)) * (x - a) := by {\n    exact h_monic_f -- 0\n}\nhave h_monic_g : ∀ x, g x = (x - (r + 3)) * (x - (r + 9)) * (x - b) := by {\n    exact h_monic_g -- 0\n}\n\n-- Then $f(x) - g(x) = (x - r - 1)(x - r - 7)(x - a) - (x - r - 3)(x - r - 9)(x - b) = r$ for all $x.$\nhave h_diff : ∀ x, f x - g x = r := by {\n    exact h_diff -- 0\n}\n\n-- Setting $x = r + 3,$ we get $(2)(-4)(r + 3 - a) = r.$\nhave h_x_r_plus_3 : (2) * (-4) * (r + 3 - a) = r := by {\n    specialize h_diff (r + 3) -- 0\n    linarith [h_monic_f (r + 3), h_monic_g (r + 3), h_diff] -- 0\n}\n\n-- Setting $x = r + 9,$ we get $(8)(2)(r + 9 - a) = r.$\nhave h_x_r_plus_9 : (8) * (2) * (r + 9 - a) = r := by {\n    rw [← sub_eq_zero] at h_x_r_plus_3 -- 0\n    norm_num at h_x_r_plus_3 -- 0\n    field_simp [h_x_r_plus_3] at h_x_r_plus_3 ⊢ -- 0\n    linarith [h_monic_f (r + 9), h_monic_g (r + 9), h_diff (r + 9)] -- 0\n}\n\n-- Then $-8r - 24 + 8a = r$ and $16r + 144 - 16a = r,$ so\n-- \\begin{align*}\n-- 8a - 9r &= 24, \\\\\n-- -16a + 15r &= -144.\n-- \\end{align*}\nhave h_eq1 : 8 * a - 9 * r = 24 := by {\n    linarith [h_x_r_plus_3, h_x_r_plus_9] -- 0\n}\nhave h_eq2 : -16 * a + 15 * r = -144 := by {\n    linarith [h_eq1] -- 0\n}\n\n-- Solving, we find $r = \\boxed{32}.$\nhave h_solution : r = 32 := by {\n    linarith [h_eq1, h_eq2] -- 0\n}\n\nhave h_answer : answer = 32 := by {\n    exact h_answer ▸ h_solution -- 0\n}\n\nexact h_answer -- submit"}
{"informal_problem": "Daniel has exactly $20$ pieces of candy. He has to divide them equally among his $3$ sisters. What is the least number of pieces he should take away so that he could distribute the candy equally?", "forward_context": "answer candy : ℕ\nh₀ : candy = 20\nh₁ : 3 ∣ candy - answer\nh₂ : ∀ n < answer, ¬3 ∣ candy - n\n⊢ ?w", "formal_solution": "-- Daniel has exactly 20 pieces of candy\nhave h_candy : candy = 20 := h₀\n\n-- When you divide 20 by 3, you get 6 with a remainder of 2\nhave h_div : 20 = 3 * 6 + 2 := by {\nnorm_num [h₀, h₁, h₂, h_candy] -- 0\n}\n\n-- Therefore, he should take away 2 pieces so he could give each of his sisters 6 pieces\nhave h_remainder : 20 % 3 = 2 := by {\nsimp [h_candy, h_div] -- 0\n}\n\n-- He has to divide them equally among his 3 sisters\nhave h_divisible : 3 ∣ (candy - answer) := h₁\n\n-- The least number of pieces he should take away\nhave h_least : ∀ (n : ℕ), n < answer → ¬(3 ∣ (candy - n)) := h₂\n\n-- Therefore, the answer is 2 pieces\nhave h_answer : answer = 2 := by {\nsimp only [h₀, h_div, h_remainder] at h_divisible h_least -- 0\ncontrapose! h_least -- 0\nrefine' ⟨2, by omega, by omega⟩ -- 0\n}\n\nexact h_answer -- submit"}
{"informal_problem": "What is the smallest positive integer that leaves a remainder of 4 when divided by 5 and a remainder of 6 when divided by 7?", "forward_context": "answer : ℕ\nh₀ : ∀ (n : ℕ), n > 0 ∧ n % 5 = 4 ∧ n % 7 = 6 → n ≥ answer\nh₁ : ∃ n > 0, n % 5 = 4 ∧ n % 7 = 6 ∧ answer = n\n⊢ ?w", "formal_solution": "-- Let the desired number be $a$. Then\n-- \\begin{align*}\n-- a\\equiv 4\\pmod 5,\\\\\n-- a\\equiv 6\\pmod 7.\n-- \\end{align*}\n-- The first congruence means that there exists a non-negative integer $n$ such that $a=4+5n$.\nhave h_a_mod_5 : ∀ (a : ℕ), a > 0 → a % 5 = 4 → ∃ (n : ℕ), a = 4 + 5 * n := by {\nexact fun a h₂ h₃ => ⟨(a - 4) / 5, by omega⟩ -- 0\n} -- The first congruence means that there exists a non-negative integer $n$ such that $a=4+5n$.\n\n-- Substituting this into the second congruence yields \\[4+5n\\equiv 6\\pmod 7\\implies n\\equiv 6\\pmod 7\\]\nhave h_n_mod_7 : ∀ (n : ℕ), 4 + 5 * n ≡ 6 [MOD 7] → n ≡ 6 [MOD 7] := by {\nsimp (config := { contextual := true }) [Nat.ModEq] -- 0\nomega -- 0\n} -- Substituting this into the second congruence yields \\[4+5n\\equiv 6\\pmod 7\\implies n\\equiv 6\\pmod 7\\]\n\n-- So $n$ has a lower bound of $6$.\nhave h_n_lower_bound : ∀ (n : ℕ), n ≡ 6 [MOD 7] → n ≥ 6 := by {\nsimp (config := { contextual := true }) [Nat.ModEq, Nat.mod_eq_of_lt] -- 0\nomega -- 0\n} -- So $n$ has a lower bound of $6$.\n\n-- Then $n\\ge 6\\implies a=4+5n\\ge 34$.\nhave h_a_lower_bound : ∀ (n : ℕ), n ≥ 6 → 4 + 5 * n ≥ 34 := by {\nomega -- 0\n} -- Then $n\\ge 6\\implies a=4+5n\\ge 34$.\n\n-- $\\boxed{34}$ is the smallest solution since it is a lower bound of $a$ and satisfies both original congruences.\nhave h_a_satisfies_congruences : 34 % 5 = 4 ∧ 34 % 7 = 6 := by {\nnorm_num -- 0\n} -- $\\boxed{34}$ satisfies both original congruences.\n\n-- Therefore, the smallest positive integer satisfying the conditions is 34.\nhave h_answer : answer = 34 := by {\nspecialize h₀ 34 ⟨by norm_num, by norm_num, by norm_num⟩ -- 0\nomega -- 0\n}\nexact h_answer -- submit"}
{"informal_problem": "An edge of a square can be expressed as $4x-15$ meters or as $20-3x$ meters. What is its area in square meters?", "forward_context": "edge_length area x answer : ℚ\nh₀ : 4 * x - 15 = 20 - 3 * x\nh₁ : edge_length = 4 * x - 15\nh₂ : area = edge_length ^ 2\nh_answer : area = answer\n⊢ ?w", "formal_solution": "-- Set $4x - 15$ equal to $20 - 3x$ to find $x$.\nhave h_solution : x = 5 := by {\nlinarith -- 0\n} -- Solving the equation $4x - 15 = 20 - 3x$ gives $x = 5$.\n\n-- Substituting $x = 5$ into either $4x - 15$ or $20 - 3x$, we find that the side length of the square is 5 meters.\nhave h_edge_length : edge_length = 4 * 5 - 15 := by {\nlinarith -- 0\n} -- Substituting $x = 5$ into $4x - 15$ gives the edge length as 5 meters.\nhave h_edge_length_eq : edge_length = 5 := by {\nlinarith [h₀, h₁, h₂, h_answer, h_solution, h_edge_length] -- 0\n} -- Simplifying $4 * 5 - 15$ gives $5$.\n\n-- The area of the square is the square of the edge length.\nhave h_area : area = edge_length^2 := by {\nlinarith -- 0\n} -- The area of the square is the square of the edge length.\nhave h_area_eq : area = 5^2 := by {\nsimp [h_area, h_edge_length_eq] -- 0\n} -- Substituting the edge length into the area formula.\nhave h_area_final : area = 25 := by {\nlinarith [h₀, h₁, h₂, h_answer, h_solution, h_edge_length, h_edge_length_eq, h_area, h_area_eq] -- 0\n} -- Calculating $5^2$ gives $25$.\n\n-- Therefore, the area of the square is $\\boxed{25}$ square meters.\nhave h_answer : answer = 25 := by {\nlinarith -- 0\n} -- The area is $\\boxed{25}$ square meters.\n\nexact h_answer -- submit"}
{"informal_problem": "If $C=\\frac{5}{9}(F-32)$, what is $F$ when $C=20$?", "forward_context": "answer C F : ℝ\nh_equation : C = 5 / 9 * (F - 32)\nh_C_value : C = 20\nh_answer : F = answer\n⊢ ?w", "formal_solution": "-- Given the equation $C = \\frac{5}{9}(F - 32)$ and $C = 20$, we substitute $C$ into the equation.\nhave h_substituted : 20 = (5 / 9) * (F - 32) := by {\nlinarith [h_C_value, h_answer] -- 0\n} -- Substitute $C = 20$ into the equation.\n\n-- Multiply both sides by 9 to eliminate the fraction.\nhave h_multiplied : 9 * 20 = 9 * (5 / 9) * (F - 32) := by {\nlinarith -- 0\n} -- Multiply both sides by 9.\nhave h_simplified_mult : 180 = 5 * (F - 32) := by {\nlinarith -- 0\n} -- Simplify the equation to $180 = 5(F - 32)$.\n\n-- Divide both sides by 5 to isolate $(F - 32)$.\nhave h_divided : 180 / 5 = (F - 32) := by {\nlinarith -- 0\n} -- Divide both sides by 5.\nhave h_simplified_div : 36 = F - 32 := by {\nlinarith -- 0\n} -- Simplify to $36 = F - 32$.\n\n-- Add 32 to both sides to solve for $F$.\nhave h_added : 36 + 32 = F := by {\nlinarith -- 0\n} -- Add 32 to both sides.\nhave h_final : F = 68 := by {\nlinarith -- 0\n} -- Simplify to $F = 68$.\n\n-- The answer is $\\boxed{68}$.\nhave h_answer : answer = 68 := by {\nlinarith [h_answer, h_final] -- 0\n}\nexact h_answer -- submit"}
{"informal_problem": "Simplify\n\\[\\cos ^2 x + \\cos^2 (x + y) - 2 \\cos x \\cos y \\cos (x + y).\\]", "forward_context": "y answer x : ℝ\nh_answer : Real.cos x ^ 2 + Real.cos (x + y) ^ 2 - 2 * Real.cos x * Real.cos y * Real.cos (x + y) = answer\n⊢ ?w", "formal_solution": "-- Start with the original expression\nhave h₀ : Real.cos x ^ 2 + Real.cos (x + y) ^ 2 - 2 * Real.cos x * Real.cos y * Real.cos (x + y) =\n          Real.cos x ^ 2 + Real.cos (x + y) * (Real.cos (x + y) - 2 * Real.cos x * Real.cos y) := by {\n    ring -- 0\n} -- Rewrite the expression\n\n-- Apply the angle addition formula: $\\cos (x + y) = \\cos x \\cos y - \\sin x \\sin y$\nhave h₁ : Real.cos (x + y) = Real.cos x * Real.cos y - Real.sin x * Real.sin y := by {\n    linarith [Real.cos_add x y] -- 0\n}\nhave h₂ : Real.cos x ^ 2 + Real.cos (x + y) * (Real.cos (x + y) - 2 * Real.cos x * Real.cos y) =\n          Real.cos x ^ 2 + Real.cos (x + y) * (-Real.cos x * Real.cos y - Real.sin x * Real.sin y) := by {\n    rw [h₁] -- 0\n    ring -- 0\n} -- Substitute the angle addition formula\n\n-- Apply the angle subtraction formula: $\\cos (x - y) = \\cos x \\cos y + \\sin x \\sin y$\nhave h₃ : Real.cos (x - y) = Real.cos x * Real.cos y + Real.sin x * Real.sin y := by {\n    rw [Real.cos_sub] -- 0\n}\nhave h₄ : Real.cos x ^ 2 + Real.cos (x + y) * (-Real.cos x * Real.cos y - Real.sin x * Real.sin y) =\n          Real.cos x ^ 2 - Real.cos (x + y) * Real.cos (x - y) := by {\n    simp [h₀, h₁, h₂, h₃] -- 0\n    linarith -- 0\n} -- Substitute the angle subtraction formula\n\n-- Apply the product-to-sum formula: $\\cos A \\cos B = \\frac{1}{2} (\\cos (A + B) + \\cos (A - B))$\nhave h₅ : Real.cos (x + y) * Real.cos (x - y) = (1 / 2) * (Real.cos (2 * x) + Real.cos (2 * y)) := by {\n    simp [Real.cos_add, Real.cos_sub, h₀, h₁, h₂, h₃, h₄] -- 0\n    ring_nf at h₀ h₁ h₂ h₃ h₄ ⊢ -- 0\n    field_simp [Real.sin_sq, Real.cos_sq, h₀, h₁, h₂, h₃, h₄] -- 0\n    ring_nf at h₀ h₁ h₂ h₃ h₄ ⊢ -- 0\n}\nhave h₆ : Real.cos x ^ 2 - Real.cos (x + y) * Real.cos (x - y) =\n          Real.cos x ^ 2 - (1 / 2) * (Real.cos (2 * x) + Real.cos (2 * y)) := by {\n    simp [h₅] -- 0\n} -- Substitute the product-to-sum formula\n\n-- Apply the double-angle formula: $\\cos 2x = 2 \\cos^2 x - 1$\nhave h₇ : Real.cos (2 * x) = 2 * Real.cos x ^ 2 - 1 := by {\n    simp [Real.cos_two_mul, h₀, h₁, h₂, h₃, h₄, h₅, h₆] -- 0\n}\nhave h₈ : Real.cos (2 * y) = 2 * Real.cos y ^ 2 - 1 := by {\n    simp [Real.cos_two_mul, Real.sin_sq_add_cos_sq] -- 0\n}\nhave h₉ : Real.cos x ^ 2 - (1 / 2) * (Real.cos (2 * x) + Real.cos (2 * y)) =\n          Real.cos x ^ 2 - (1 / 2) * (2 * Real.cos x ^ 2 - 1 + 2 * Real.cos y ^ 2 - 1) := by {\n    linarith -- 0\n} -- Substitute the double-angle formulas\n\n-- Simplify the expression\nhave h₁₀ : Real.cos x ^ 2 - (1 / 2) * (2 * Real.cos x ^ 2 - 1 + 2 * Real.cos y ^ 2 - 1) =\n           Real.cos x ^ 2 - (Real.cos x ^ 2 - 1 / 2 + Real.cos y ^ 2 - 1 / 2) := by {\n    linarith -- 0\n}\nhave h₁₁ : Real.cos x ^ 2 - (Real.cos x ^ 2 - 1 / 2 + Real.cos y ^ 2 - 1 / 2) =\n           1 - Real.cos y ^ 2 := by {\n    linarith -- 0\n}\n\n-- The final result is $\\sin^2 y$\nhave h_final : answer = Real.sin y ^ 2 := by {\n    simp [h₀, h₁, h₂, h₃, h₄, h₅, h₆, h₇, h₈, h₉, h₁₀, h₁₁] at h_answer ⊢ -- 0\n    nlinarith [Real.sin_sq_add_cos_sq x, Real.sin_sq_add_cos_sq y] -- 0\n}\n\nexact h_final -- submit"}
{"informal_problem": "Evaluate\n\\[\\begin{vmatrix} y + 1 & y & y \\\\ y & y + 1 & y \\\\ y & y & y + 1 \\end{vmatrix}.\\]", "forward_context": "y answer : ℝ\nM : Matrix (Fin 3) (Fin 3) ℝ\nh₀ : M = ![![y + 1, y, y], ![y, y + 1, y], ![y, y, y + 1]]\nh_answer : M.det = answer\n⊢ ?w", "formal_solution": "-- We can expand the determinant using the cofactor expansion along the first row.\nhave h_det_expansion : Matrix.det M =\n    (y + 1) * Matrix.det ![![y + 1, y], ![y, y + 1]]\n    - y * Matrix.det ![![y, y], ![y, y + 1]]\n    + y * Matrix.det ![![y, y + 1], ![y, y]] := by {\n    simp [h₀, Matrix.det_fin_three, h_answer] -- 0\n    simp [Matrix.det_fin_two, Matrix.vecHead, Matrix.vecTail] -- 0\n    linarith -- 0\n}\n\n-- Calculate the determinant of the 2x2 submatrix ![![y + 1, y], ![y, y + 1]]\nhave h_subdet1 : Matrix.det ![![y + 1, y], ![y, y + 1]] = (y + 1) * (y + 1) - y * y := by {\n    simp [Matrix.det_fin_two, h₀] at h_det_expansion ⊢ -- 0\n}\n\n-- Calculate the determinant of the 2x2 submatrix ![![y, y], ![y, y + 1]]\nhave h_subdet2 : Matrix.det ![![y, y], ![y, y + 1]] = y * (y + 1) - y * y := by {\n    simp [Matrix.det_fin_two] -- 0\n}\n\n-- Calculate the determinant of the 2x2 submatrix ![![y, y + 1], ![y, y]]\nhave h_subdet3 : Matrix.det ![![y, y + 1], ![y, y]] = y * y - y * (y + 1) := by {\n    simp [Matrix.det_fin_three, h_subdet1, h_subdet2] -- 0\n    simp [Matrix.det_fin_two, mul_comm, mul_assoc, mul_left_comm] -- 0\n}\n\n-- Substitute the determinants of the submatrices back into the expansion\nhave h_det_expanded : Matrix.det M =\n    (y + 1) * ((y + 1) * (y + 1) - y * y)\n    - y * (y * (y + 1) - y * y)\n    + y * (y * y - y * (y + 1)) := by {\n    rw [h_det_expansion, h_subdet1, h_subdet2, h_subdet3] -- 0\n}\n\n-- Simplify the expression\nhave h_det_simplified : Matrix.det M = 3 * y + 1 := by {\n    linarith -- 0\n}\n\n-- The determinant of the matrix is $\\boxed{3y + 1}$\nhave h_answer : answer = 3 * y + 1 := by {\n    linarith [h_answer, h_det_simplified] -- 0\n}\nexact h_answer -- submit"}
